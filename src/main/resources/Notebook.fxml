<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<?import javafx.geometry.Insets?>
<?import org.kordamp.ikonli.javafx.FontIcon?>
<!--imported all classes of JavaFX required for Notebook.fxml -->
<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.vessel.ui.NotebookController">
    <!-- borderpane is layout with top,bottom, right,center; some predefined syntax to link FXML features, also adding fx controller ie form com.vessel.NotebookControllerroller-->

    <!-- Top: MenuBar + Toolbar -->
  <top> <!--  top region of borderpane-->
         <VBox> <!--Vbox is vertical container to stack options like menubar or toolbar-->

<!--MenuBar at the top of your app which has some options like file, edit, view, help...-->
            <MenuBar>

                <!-- File Menu -->
                <Menu text="File"> <!--text="<label shown to user>", onAction="#openProject" // it calls openProject method in NotebookController when clicked-->
                    <MenuItem text="New Notebook" onAction="#newNotebook"/>
                    <MenuItem text="Open Project" onAction="#openProject"/>
                    <MenuItem text="Save Project" onAction="#saveProject"/>
                    <MenuItem text="Export as PDF" onAction="#exportPDF"/>
                </Menu>

                <!-- Edit Menu -->
                <Menu text="Edit">
                    <MenuItem text="Undo" onAction="#undoAction"/>
                    <MenuItem text="Redo" onAction="#redoAction"/>
                    <MenuItem text="Cut" onAction="#cutCell"/>
                    <MenuItem text="Copy" onAction="#copyCell"/>
                    <MenuItem text="Paste" onAction="#pasteCell"/>
                </Menu>

                <!-- View Menu -->
                <Menu text="View">
                    <MenuItem text="Toggle Toolbar" onAction="#toggleToolbar"/>
                    <MenuItem text="Zoom In" onAction="#zoomIn"/>
                    <MenuItem text="Zoom Out" onAction="#zoomOut"/>
                </Menu>

                <!-- Insert Menu -->
                <Menu fx:id="insertMenu" text="Insert"/>
                <!--Dynamically filled from NotebookController.java's initialize() -->

                <!-- Cell Menu -->
                <Menu text="Cell">
                    <MenuItem text="Run" onAction="#runCell"/>
                    <MenuItem text="Pause" onAction="#pauseCell"/>
                    <MenuItem text="Refresh" onAction="#refreshCell"/>
                </Menu>

                <!-- Help Menu -->
                <Menu text="Help">
                    <MenuItem text="About" onAction="#showAbout"/>
                    <MenuItem text="Documentation" onAction="#showDocs"/>
                </Menu>

            </MenuBar>


            <ToolBar fx:id="mainToolbar">
                <!-- this toolbar has buttons so each button has some onAction which trigger some method in the controller; also some ikonli library properties which is inside <graphic>-->
                <!-- tooltip here shows small cursor hover text to users as in what this button do-->
                <Button onAction="#addCell">
                    <graphic><FontIcon iconLiteral="fas-plus" iconSize="16" styleClass="font-icon"/></graphic>
                    <tooltip><Tooltip text="Add Cell"/></tooltip>
                </Button>

                <Button onAction="#cutCell">
                    <graphic><FontIcon iconLiteral="fas-cut" iconSize="16" styleClass="font-icon"/></graphic>
                    <tooltip><Tooltip text="Cut"/></tooltip>
                </Button>

                <Button onAction="#copyCell">
                    <graphic><FontIcon iconLiteral="fas-copy" iconSize="16" styleClass="font-icon"/></graphic>
                    <tooltip><Tooltip text="Copy"/></tooltip>
                </Button>

                <Button onAction="#pasteCell">
                    <graphic><FontIcon iconLiteral="fas-paste" iconSize="16" styleClass="font-icon"/></graphic>
                    <tooltip><Tooltip text="Paste"/></tooltip>
                </Button>

                <Button onAction="#moveUpCell">
                    <graphic><FontIcon iconLiteral="fas-arrow-up" iconSize="16" styleClass="font-icon"/></graphic>
                    <tooltip><Tooltip text="Move Up"/></tooltip>
                </Button>

                <Button onAction="#moveDownCell">
                    <graphic><FontIcon iconLiteral="fas-arrow-down" iconSize="16" styleClass="font-icon"/></graphic>
                    <tooltip><Tooltip text="Move Down"/></tooltip>
                </Button>

                <Button onAction="#runCell">
                    <graphic><FontIcon iconLiteral="fas-play" iconSize="16" styleClass="font-icon"/></graphic>
                    <tooltip><Tooltip text="Run"/></tooltip>
                </Button>

                <Button onAction="#pauseCell">
                    <graphic><FontIcon iconLiteral="fas-pause" iconSize="16" styleClass="font-icon"/></graphic>
                    <tooltip><Tooltip text="Pause"/></tooltip>
                </Button>

                <!-- Language dropdown, now it gives id name as languageChoice so controller can access it and also creates an arraylist of options like java, md, plaintext-->
                <ChoiceBox fx:id="cellLanguage">
                    <!-- Will be filled by initialize() in NotebookController later-->
                </ChoiceBox>

                <!-- Spacer to push center content to actual center -->

                <!-- notebook name (dynamically replaced by TextField when editing) -->
                <StackPane fx:id="notebookNameContainer" alignment="CENTER" prefWidth="300" minWidth="150" maxWidth="400">
                    <Label fx:id="notebookNameLabel" text="Untitled Notebook"
                           styleClass="notebook-name"
                           onMouseClicked="#editNotebookName">
                    </Label>
                </StackPane>

                <!-- spacer to push right items to right edge -->
                <Region HBox.hgrow="ALWAYS"/>

                <!-- Theme toggle button -->
                <Button onAction="#toggleTheme">
                    <graphic>
                        <FontIcon iconLiteral="fas-adjust" iconSize="16" styleClass="font-icon"/>
                    </graphic>
                    <tooltip><Tooltip text="Toggle Light/Dark Theme"/></tooltip>
                </Button>

                <!-- Java version display -->
                <Label fx:id="javaVersionLabel">
                    <graphic>
                        <FontIcon iconLiteral="fas-info-circle" iconSize="16" styleClass="font-icon"/>
                    </graphic>
                </Label>

            </ToolBar>

        </VBox>
    </top>

    <!-- Center: Scrollable dynamic code cell container -->
    <center>
        <ScrollPane fx:id="codeCellArea" fitToWidth="true">
            <VBox fx:id="codeCellContainer" spacing="5" alignment="TOP_CENTER">
                <padding>
                    <Insets top="10" right="10" bottom="10" left="10"/>
                </padding>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>
